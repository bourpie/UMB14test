@using Umbraco.Cms.Web.Common.PublishedModels
@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage
@using System.Threading
@inject Umbraco.Cms.Core.Web.IUmbracoContextAccessor UmbracoContextAccessor

@{
    var currentCulture = Thread.CurrentThread.CurrentCulture;
    var language = currentCulture.TwoLetterISOLanguageName;
    var path = language == "fr" ? "/en" : "/";
	var name = language == "fr" ? "Mon site" : "My site";
	var langueLabel = language == "fr" ? "English" : "Français";
	
	// Récupérer le nœud racine

    var umbracoContext = UmbracoContextAccessor.GetRequiredUmbracoContext();
    var rootNode = umbracoContext.Content.GetAtRoot().FirstOrDefault();

    // Exemple de récupération de propriétés du nœud racine
    var rootNodeName = rootNode?.Name ?? string.Empty;
    var nomDuSite = rootNode?.Value<string>("nomDuSite") ?? string.Empty;
    
	Layout = null;
}

<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="https://cdn.linearicons.com/free/1.0.0/icon-font.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="style.css">
	<script type="module" src="qc-components.js"></script>
	<style>
		body {
			display: grid;
			grid-template-rows: auto 1fr auto;
			min-height: 100vh;
		}
	</style>
	<title>Document</title>
</head>
<body>
	<qc-header 
		titre="@nomDuSite"
		btnlabel="Ouvrir la recherche"
		contacturl="contact"
		langueurl="@path"
		langueLabel="@langueLabel"
	></qc-header>
	<main>
	@RenderBody()
	</main>
	<qc-footer></qc-footer>
</body>
</html>
